<% include partials/header %>

<div class="container">
    <header class="jumbotron">
        <div class="container">
            <h1>コロナウイルスチェッカー</h1>
            <p>現在のコロナウイルス感染者の統計を表示します。</p>
        </div>
    </header>
    <%
    var arrayCorona = [];
    coronavirustimelines.forEach(function(coronavirustimeline, i){
        arrayCorona.push(coronavirustimeline.countryName);
    });
    // 重複を削除したリスト
    var repeatDeleteArray = arrayCorona.filter(function (x, i, self) {
        return self.indexOf(x) === i;
    });
    %>
    <%= repeatDeleteArray %>
    <% 
    var repeatDeleteArray_4_currentConfirmedCount = [];
    var repeatDeleteArray_4_curedCount = [];
    var repeatDeleteArray_4_deadCount = [];
    // coronavirustimelines.forEach(function(coronavirustimeline, i){
    //     if(repeatDeleteArray_4_show.
    //     repeatDeleteArray_4_show.push({
    //         countryName: coronavirustimeline.countryName,
    //         provinceName: coronavirustimeline.provinceName,
    //         currentConfirmedCount: coronavirustimeline.currentConfirmedCount,
    //         curedCount: coronavirustimeline.curedCount,
    //         deadCount: coronavirustimeline.deadCount
    //     });
    // });
    // coronavirustimelines.forEach(function(coronavirustimeline, i){
    //     if(repeatDeleteArray_4_show.
    //     repeatDeleteArray_4_show.push({
    //         countryName: coronavirustimeline.countryName,
    //         provinceName: coronavirustimeline.provinceName,
    //         currentConfirmedCount: coronavirustimeline.currentConfirmedCount,
    //         curedCount: coronavirustimeline.curedCount,
    //         deadCount: coronavirustimeline.deadCount
    //     });
    // });
    %>
    
    <%= gotDate %>


    
    <div class="row" style="display:flex; flex-wrap: wrap;">
        <table class="table table-striped  table-dark">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">国名</th>
              <th scope="col">州名</th>
              <th scope="col">かかった人</th>
              <th scope="col">治癒者</th>
              <th scope="col">死者</th>
            </tr>
          </thead>
        　<tbody>
            <% coronavirustimelines.forEach(function(coronavirustimeline, i){ %>
                <tr>
                <th scope="row"><%= i+1 %></th>
                <td><%= coronavirustimeline.countryName %></td>
                <td><%= coronavirustimeline.provinceName %></td>
                <td><%= coronavirustimeline.currentConfirmedCount %></td>
                <td><%= coronavirustimeline.curedCount %></td>
                <td><%= coronavirustimeline.deadCount %></td>
                </tr>
            <% }) %>
          </tbody>
    <% coronavirustimelines.forEach(function(coronavirustimeline, i){ %>
        <%= //coronavirustimeline.countryName %>,
    <% }) %>
    </div>
</div>


<% include partials/footer %>